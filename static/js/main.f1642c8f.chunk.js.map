{"version":3,"sources":["components/Cell.js","components/Field.js","App.js","index.js"],"names":["Cell","className","this","props","close","done","onClick","style","background","backgroundImage","Component","Field","initGame","state","cells","Init","Dupe","children","Rand","concat","shuffleCells","map","pair","push","array","temporaryValue","randomIndex","currentIndex","length","Math","floor","random","renderCell","indexPair","indexArray","key","handleClick","renderField","field","lineLength","rows","item","index","splice","Open","currentCell","setState","shift","setTimeout","check","every","confirm","window","location","reload","Array","keys","App","ReactDOM","render","document","getElementById"],"mappings":"qTA2BeA,E,uKAvBH,IAAD,OACP,OACE,yBACEC,UAAW,oBAAiBC,KAAKC,MAAMC,MAAQ,GAAK,yBAA2BF,KAAKC,MAAME,KAAO,oBAAsB,IACvHC,QAAS,WACP,EAAKH,MAAMG,YAGb,yBAAKL,UAAU,mBAAmBM,MAAOL,KAAKC,MAAMC,MAAQ,GAAK,CAAEI,WAAYN,KAAKC,MAAMK,cAC1F,yBAAKP,UAAU,kBAAkBM,MAAO,CAAEE,gBAAiB,mC,GAVhDC,aC4KJC,E,kDA3Kb,WAAYR,GAAQ,IAAD,8BACjB,cAAMA,IA4BRS,SAAW,WAAO,IAAD,EAC6C,EAAKC,MAA3DC,MAASC,EADA,EACAA,KAAMC,EADN,EACMA,KAAYC,GADlB,EACYC,KADZ,EACkBD,UAAUT,EAD5B,EAC4BA,WAE3CQ,EAAOD,EAAKI,OAAOJ,GACZ,EAAKK,aAAaJ,GAClBA,EAGFK,KAAI,SAACC,GACR,OAAOL,EAASM,KAAK,CACnBD,OACAlB,OAAO,EACPC,MAAM,EACNG,WAAYA,EAAWc,SA1CV,EA+CnBF,aAAe,SAACI,GAOd,IANA,IAEEC,EACAC,EAFAC,EAAeH,EAAMI,OAKhB,IAAMD,GAEXD,EAAcG,KAAKC,MAAMD,KAAKE,SAAWJ,GAIzCF,EAAiBD,EAHjBG,GAAgB,GAIhBH,EAAMG,GAAgBH,EAAME,GAC5BF,EAAME,GAAeD,EAEvB,OAAOD,GAhEU,EAuEnBQ,WAAa,SAACC,EAAWC,EAAY9B,EAAOC,EAAMG,GAChD,OACE,kBAAC,EAAD,CACEc,KAAMW,EACNE,IAAKD,EACL9B,MAAOA,EACPC,KAAMA,EACNG,WAAY,IAAMA,EAClBF,QAAS,kBAAM,EAAK8B,YAAYF,EAAYD,OA/E/B,EAqFnBI,YAAc,WAAO,IAMjBC,EANgB,EAEsB,EAAKzB,MAAzCC,MAASG,EAFK,EAELA,SAAUsB,EAFL,EAEKA,WACrBzB,EAAQ,GAIR0B,EAAO,GAYT,OAVAvB,EAASI,KAAI,SAACoB,EAAMC,GAOlB,OANA5B,EAAMS,KAAK,EAAKS,WAAWS,EAAKnB,KAAMoB,EAAOD,EAAKrC,MAAOqC,EAAKpC,KAAMoC,EAAKjC,aACrEM,EAAMc,SAAWW,GACnBC,EAAKjB,KAAK,yBAAKtB,UAAU,aAAakC,IAAG,cAASO,IAAU5B,EAAM6B,OAAO,EAAGJ,KAIvED,EAAQ,yBAAKrC,UAAU,QAAQkC,IAAG,gBAAWO,IAAUF,MAGzDF,GAxGU,EA2GnBF,YAAc,SAACF,EAAYD,GAAe,IAAD,EAEL,EAAKpB,MAAnCC,MAAS8B,EAF0B,EAE1BA,KAAM3B,EAFoB,EAEpBA,SACjB4B,EAAc,CAAEZ,YAAWC,cAEP,IAAhBU,EAAKhB,UACJX,EAASiB,GAAY7B,MAAQY,EAASiB,GAAY9B,QACrDa,EAASiB,GAAY9B,OAAQ,EAC7BwC,EAAKrB,KAAKsB,IAGZ,EAAKC,SAAS,CACZhC,MAAM,eACD,EAAKD,MAAMC,MADX,CAEHG,SAAUA,MAIV2B,GAAyB,IAAhBA,EAAKhB,SACZgB,EAAK,GAAGV,aAAeU,EAAK,GAAGV,WACjCU,EAAKG,QAELC,YAAW,kBAAM,EAAKC,UAAS,QAjIpB,EAuInBA,MAAQ,WAAO,IAAD,EAC0B,EAAKpC,MAAnCC,MAAS8B,EADL,EACKA,KAAM3B,EADX,EACWA,UAEnB2B,EAAK,IAAMA,EAAK,KACdA,EAAK,GAAGX,YAAcW,EAAK,GAAGX,WAChChB,EAAS2B,EAAK,GAAGV,YAAY7B,MAAO,EACpCY,EAAS2B,EAAK,GAAGV,YAAY7B,MAAO,IAEpCY,EAAS2B,EAAK,GAAGV,YAAY9B,OAAQ,EACrCa,EAAS2B,EAAK,GAAGV,YAAY9B,OAAQ,IAIzC,EAAK0C,SAAS,CACZhC,MAAM,eACD,EAAKD,MAAMC,MADX,CAEH8B,KAAM,OAII3B,EAASiC,OAAM,SAACT,GAAD,OAAUA,EAAKpC,WAIhC8C,QAAQ,qCAEhBC,OAAOC,SAASC,WA9JpB,EAAKzC,MAAQ,CACXC,MAAO,CACLC,KAAK,YAAKwC,MAAM,GAAGC,QACnBxC,KAAM,GACNE,KAAM,GAEN0B,KAAM,GAEN3B,SAAU,GACVsB,WAAY,EACZ/B,WAAY,CACV,SACA,SACA,SACA,SACA,SACA,SACA,SACA,YAKN,EAAKI,WA1BY,E,qDAuKjB,OAAOV,KAAKmC,kB,GAxKI3B,aCUL+C,E,uKARX,OACE,yBAAKxD,UAAU,QACb,kBAAC,EAAD,W,GAJUS,aCQlBgD,IAASC,OAAO,kBAAC,EAAD,MAAQC,SAASC,eAAe,W","file":"static/js/main.f1642c8f.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass Cell extends Component {\r\n  render() {\r\n    return (\r\n      <div\r\n        className={'Field__сell' + (this.props.close ? '' : ' Field__cell_flipped') + (this.props.done ? ' Field__cell_done' : '')}\r\n        onClick={() => {\r\n          this.props.onClick()\r\n        }}\r\n      >\r\n        <div className='Cell__front-side' style={this.props.close ? {} : { background: this.props.background}}></div>\r\n        <div className='Cell__back-side' style={{ backgroundImage: 'url(react-back-logo.png)' }}></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nCell.propTypes = {\r\n  onClick: PropTypes.func,\r\n  pair: PropTypes.number.isRequired,\r\n  close: PropTypes.bool.isRequired,\r\n  done: PropTypes.bool.isRequired,\r\n  background: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Cell","import React, { Component } from 'react'\r\nimport Cell from './Cell'\r\n\r\nclass Field extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      cells: {\r\n        Init: [...Array(8).keys()],\r\n        Dupe: [],\r\n        Rand: [],\r\n\r\n        Open: [],\r\n\r\n        children: [],\r\n        lineLength: 4, // Count of cells in 1 line\r\n        background: [\r\n          'bf392b',\r\n          '9b59b6',\r\n          '2980b9',\r\n          '119479',\r\n          '7ef4b0',\r\n          'f1c40f',\r\n          'ffffff',\r\n          '000000'\r\n        ]\r\n      },\r\n    }\r\n\r\n    this.initGame()\r\n  }\r\n\r\n  initGame = () => {\r\n    let { cells: { Init, Dupe, Rand, children, background } } = this.state\r\n\r\n    Dupe = Init.concat(Init) // Duplicating inited array (for pairs)\r\n    Rand = this.shuffleCells(Dupe) // Randomizing it by shuffleCells func\r\n    Rand = Dupe\r\n\r\n    // Putting default info in each child of already randomized cells\r\n    Rand.map((pair) => {\r\n      return children.push({\r\n        pair,\r\n        close: true,\r\n        done: false,\r\n        background: background[pair]\r\n      })\r\n    })\r\n  }\r\n\r\n  shuffleCells = (array) => {\r\n    let\r\n      currentIndex = array.length,\r\n      temporaryValue,\r\n      randomIndex\r\n\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n      // Pick a remaining element...\r\n      randomIndex = Math.floor(Math.random() * currentIndex)\r\n      currentIndex -= 1\r\n\r\n      // And swap it with the current element.\r\n      temporaryValue = array[currentIndex]\r\n      array[currentIndex] = array[randomIndex]\r\n      array[randomIndex] = temporaryValue\r\n    }\r\n    return array\r\n  }\r\n\r\n  /*\r\n   * There are cannot be default values of close and done vars\r\n   * Because every cell will work wrong\r\n   */\r\n  renderCell = (indexPair, indexArray, close, done, background) => {\r\n    return (\r\n      <Cell\r\n        pair={indexPair}\r\n        key={indexArray}\r\n        close={close}\r\n        done={done}\r\n        background={'#' + background}\r\n        onClick={() => this.handleClick(indexArray, indexPair)}\r\n      />\r\n    )\r\n  }\r\n\r\n  // TODO: Add comments here and lower\r\n  renderField = () => {\r\n    const\r\n      { cells: { children, lineLength } } = this.state,\r\n      cells = []\r\n\r\n    let\r\n      field,\r\n      rows = []\r\n\r\n    children.map((item, index) => {\r\n      cells.push(this.renderCell(item.pair, index, item.close, item.done, item.background))\r\n      if (cells.length === lineLength) {\r\n        rows.push(<div className='Field__row' key={`Row_${index}`}>{cells.splice(0, lineLength)}</div>);\r\n      }\r\n\r\n      // Then all line with their cells pushed into Field (parent) \r\n      return field = <div className='Field' key={`Field_${index}`}>{rows}</div>\r\n    })\r\n\r\n    return field\r\n  }\r\n\r\n  handleClick = (indexArray, indexPair) => {\r\n    const\r\n      { cells: { Open, children } } = this.state,\r\n      currentCell = { indexPair, indexArray }\r\n\r\n    if (!(Open.length === 2)) {\r\n      if (!children[indexArray].done && children[indexArray].close) {\r\n        children[indexArray].close = false\r\n        Open.push(currentCell)\r\n      }\r\n\r\n      this.setState({\r\n        cells: {\r\n          ...this.state.cells,\r\n          children: children,\r\n        }\r\n      })\r\n\r\n      if (Open && (Open.length === 2)) {\r\n        if (Open[0].indexArray === Open[1].indexArray) {\r\n          Open.shift()\r\n        } else {\r\n          setTimeout(() => this.check(), 1000)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  check = () => {\r\n    const { cells: { Open, children } } = this.state\r\n\r\n    if (Open[0] && Open[1]) {\r\n      if (Open[0].indexPair === Open[1].indexPair) {\r\n        children[Open[0].indexArray].done = true\r\n        children[Open[1].indexArray].done = true\r\n      } else {\r\n        children[Open[0].indexArray].close = true\r\n        children[Open[1].indexArray].close = true\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      cells: {\r\n        ...this.state.cells,\r\n        Open: []\r\n      }\r\n    })\r\n\r\n    const state = children.every((item) => item.done)\r\n\r\n    if (state) {\r\n      // eslint-disable-next-line no-restricted-globals\r\n      let ask = confirm('Do you want to restart the game?')\r\n      if (ask) {\r\n        window.location.reload()\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return this.renderField()\r\n  }\r\n}\r\n\r\nexport default Field","import React, { Component } from 'react'\r\nimport Field from './components/Field'\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className='Game'>\r\n        <Field />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App","// eslint-disable-next-line no-unused-vars\nimport * as coreJs from 'core-js' // IE 10-11 fix\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport 'reset-css'\nimport './index.css'\n\nimport App from './App'\n\nReactDOM.render(<App/>, document.getElementById('root'))"],"sourceRoot":""}